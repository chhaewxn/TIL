## âš™ï¸ í”„ë¡œì íŠ¸ í™˜ê²½ì„¤ì •
### í”„ë¡œì íŠ¸ ìƒì„±
- https://start.spring.io/ ì´ë™í•˜ì—¬ ìŠ¤í”„ë§ í”„ë¡œì íŠ¸ ìƒì„±

ğŸ”» í”„ë¡œì íŠ¸ ì„ íƒ
- Project: Gradle - Groovy Project
- Spring Boot: 3.5.x
- Language: Java
- Packaging: Jar
- Java: 11

ğŸ”» Project Metadata
- groupId: hello
- artifactId: hello-spring
- Dependencies: `Spring Web`, `Thymeleaf`

### ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚´í´ë³´ê¸°
- Gradleì€ ì˜ì¡´ê´€ê³„ê°€ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í•¨ê»˜ ë‹¤ìš´ë¡œë“œ í•œë‹¤.

`ìŠ¤í”„ë§ë¶€íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬`
- spring-boot-starter-web
	- tomcat: í†°ìº£(ì›¹ì„œë²„)
    - webmvc: ìŠ¤í”„ë§ ì›¹ MVC
- spring-boot-starter-thymeleaf: íƒ€ì„ë¦¬í”„ í…œí”Œë¦¿ ì—”ì§„(View)
- spring-boot-starter(ê³µí†µ): ìŠ¤í”„ë§ë¶€íŠ¸ + ìŠ¤í”„ë§ì½”ì–´ + ë¡œê¹…
	- spring-boot
    	- spring-core
    - spring-boot-starter-logging
    	- logback, slf4j
        
`í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬`
- spring-boot-starter-test
	- junit: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
    - mockito: ëª© ë¼ì´ë¸ŒëŸ¬ë¦¬
    - assertj: í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¢€ ë” í¸í•˜ê²Œ ì‘ì„±í•˜ê²Œ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
    - spring-test: ìŠ¤í”„ë§ í†µí•© í…ŒìŠ¤íŠ¸ ì§€ì›
    
### View í™˜ê²½ì„¤ì •
#### Welcome Page ë§Œë“¤ê¸°
- resources/static/index.html
```html
<!DOCTYPE HTML>
<html>
<head>
 <title>Hello</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
Hello
<a href="/hello">hello</a>
</body>
</html>
```

- resources/templates/hello.html
```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <title>Hello</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<p th:text="'ì•ˆë…•í•˜ì„¸ìš”. ' + ${data}" >ì•ˆë…•í•˜ì„¸ìš”. ì†ë‹˜</p>
</body>
</html>
```

- ë™ì‘ í™˜ê²½ ê·¸ë¦¼
![](https://velog.velcdn.com/images/chhaewxn/post/f5950274-cb9a-4187-b92a-d6e91c93688a/image.png)

- ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë¦¬í„´ ê°’ìœ¼ë¡œ ë¬¸ìë¥¼ ë°˜í™˜í•˜ë©´ ë·° ë¦¬ì¡¸ë²„(viewResolver)ê°€ í™”ë©´ì„ ì°¾ì•„ì„œ ì²˜ë¦¬í•œë‹¤.
	- ìŠ¤í”„ë§ ë¶€íŠ¸ í…œí”Œë¦¿ì—”ì§„ ê¸°ë³¸ viewName ë§¤í•‘
	- resources:templates/ +{ViewName}+ .html

### ë¹Œë“œí•˜ê³  ì‹¤í–‰í•˜ê¸°

(1) ì½˜ì†”ë¡œ ì´ë™ ëª…ë ¹ í”„ë¡¬í”„íŠ¸(cmd)ë¡œ ì´ë™
(2) ./gradlew â¡ï¸ gradlew.bat ë¥¼ ì‹¤í–‰
ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ gradlew.bat ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ gradlew í•˜ê³  ì—”í„°
(3) gradlew build
(4) í´ë” ëª©ë¡ í™•ì¸ ls â¡ï¸ dir
ìœˆë„ìš°ì—ì„œ Git bash í„°ë¯¸ë„ ì‚¬ìš©í•˜ê¸°

## ìŠ¤í”„ë§ ì›¹ ê°œë°œ ê¸°ì´ˆ
### ì •ì  ì»¨í…ì¸ 
- ìŠ¤í”„ë§ ë¶€íŠ¸ Static Content ê¸°ë³¸ì ìœ¼ë¡œ /static í´ë”ì—ì„œ ìë™ ì œê³µ 
- resources/static/hello-static.html
```html
<!DOCTYPE HTML>
<html>
<head>
 <title>static content</title>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
ì •ì  ì»¨í…ì¸  ì…ë‹ˆë‹¤.
</body>
</html>
```

- ì •ì  ì»¨í…ì¸  ì´ë¯¸ì§€ 
![](https://velog.velcdn.com/images/chhaewxn/post/ddd34869-dc73-4fd6-9921-ee3d517b97e5/image.png)


### MVCì™€ í…œí”Œë¦¿ ì—”ì§„
- MVC: Model, View, Controller

ğŸ”»Controller
```java
@Controller
public class HelloController {
 @GetMapping("hello-mvc")
 public String helloMvc(@RequestParam("name") String name, Model model) {
 model.addAttribute("name", name);
 return "hello-template";
 }
}
```

ğŸ”»View
- resources/templates/hello-template.html
```html
<html xmlns:th="http://www.thymeleaf.org">
<body>
<p th:text="'hello ' + ${name}">hello! empty</p>
</body>
</html>
```

- MVC, í…œí”Œë¦¿ ì—”ì§„ ì´ë¯¸ì§€
![](https://velog.velcdn.com/images/chhaewxn/post/91ea882a-d4db-4a57-b7db-21084dc6703f/image.png)

### API
ğŸ”» @ResponseBody ë¬¸ì ë°˜í™˜
```java
@Controller
public class HelloController {
 @GetMapping("hello-string")
 @ResponseBody
 public String helloString(@RequestParam("name") String name) {
 return "hello " + name;
 }
}
```

- @ResponseBody ë¥¼ ì‚¬ìš©í•˜ë©´ ë·° ë¦¬ì¡¸ë²„( viewResolver )ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- ëŒ€ì‹ ì— HTTPì˜ BODYì— ë¬¸ì ë‚´ìš©ì„ ì§ì ‘ ë°˜í™˜(HTML BODY TAGë¥¼ ë§í•˜ëŠ” ê²ƒì´ ì•„ë‹˜)

ì‹¤í–‰: http://localhost:8080/hello-string?name=spring

ğŸ”» @ResponseBody ê°ì²´ ë°˜í™˜
```java
@Controller
public class HelloController {
 @GetMapping("hello-api")
 @ResponseBody
 public Hello helloApi(@RequestParam("name") String name) {
 Hello hello = new Hello();
 hello.setName(name);
 return hello;
 }
 static class Hello {
 private String name;
 public String getName() {
 return name;
 }
 public void setName(String name) {
 this.name = name;
 }
 }
}
```
- @ResponseBody ë¥¼ ì‚¬ìš©í•˜ê³ , ê°ì²´ë¥¼ ë°˜í™˜í•˜ë©´ ê°ì²´ê°€ JSONìœ¼ë¡œ ë³€í™˜ë¨
ì‹¤í–‰: http://localhost:8080/hello-api?name=spring

ğŸ”» @ResponseBody ì‚¬ìš©ì›ë¦¬

![](https://velog.velcdn.com/images/chhaewxn/post/3fbe6c15-130a-44db-a5f9-42f661b6f429/image.png)

- @ResponseBody ë¥¼ ì‚¬ìš©
	- HTTPì˜ BODYì— ë¬¸ì ë‚´ìš©ì„ ì§ì ‘ ë°˜í™˜
	- viewResolver ëŒ€ì‹ ì— HttpMessageConverter ê°€ ë™ì‘
	- ê¸°ë³¸ ë¬¸ìì²˜ë¦¬: StringHttpMessageConverter
	- ê¸°ë³¸ ê°ì²´ì²˜ë¦¬: MappingJackson2HttpMessageConverter
	- byte ì²˜ë¦¬ ë“±ë“± ê¸°íƒ€ ì—¬ëŸ¬ HttpMessageConverterê°€ ê¸°ë³¸ìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆìŒ
