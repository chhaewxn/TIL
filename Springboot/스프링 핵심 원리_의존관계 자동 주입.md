## ğŸ“ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…
### â˜‘ï¸ ë‹¤ì–‘í•œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²•
- ìƒì„±ì ì£¼ì…
- ìˆ˜ì •ì ì£¼ì…(Setter ì£¼ì…)
- í•„ë“œ ì£¼ì…
- ì¼ë°˜ ë©”ì„œë“œ ì£¼ì… 

#### ìƒì„±ì ì£¼ì…
ìƒì„±ìë¥¼ í†µí•´ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…ë°›ëŠ”ë‹¤.

- ìƒì„±ì í˜¸ì¶œ ì‹œì ì— ë”± 1ë²ˆë§Œ í˜¸ì¶œëœë‹¤.
- ë¶ˆë³€, í•„ìˆ˜ ì˜ì¡´ ê´€ê³„ì—ì„œ ì‚¬ìš©ëœë‹¤.


```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
}
```

ìƒì„±ìê°€ ë”± 1ê°œë§Œ ìˆìœ¼ë©´ @Autowiredë¥¼ ìƒëµí•´ë„ ìë™ ì£¼ì…ëœë‹¤. ì´ê²ƒì€ ìŠ¤í”„ë§ ë¹ˆì—ì„œë§Œ í•´ë‹¹ëœë‹¤.

```java
@Component
public class OrderServiceImpl implements OrderService {
    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
}
```

#### ìˆ˜ì •ì ì£¼ì…

ìŠ¤í”„ë§ë¹ˆì€ í¬ê²Œ 1) ìŠ¤í”„ë§ ë¹ˆì„ ìƒì„±í•˜ëŠ” ë‹¨ê³„, 2) @Autowired ì• ë…¸í…Œì´ì…˜ì´ ê±¸ë¦° ê²ƒë“¤ì„ ìë™ìœ¼ë¡œ ì£¼ì…í•œë‹¤.
setterë¼ ë¶ˆë¦¬ëŠ” í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ìˆ˜ì •ì ë©”ì„œë¥¼ í†µí•´ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í•œë‹¤.

- ì„ íƒ, ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©í•œë‹¤.
- ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì—ì„œ ìˆ˜ì •ì ë©”ì„œë“œ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.
	- ìë°”ë¹ˆ í”„ë¡œí¼í‹°: ìë°”ì—ì„œëŠ” ì´ì „ë¶€í„° í•„ë“œ ê°’ì„ ì§ì ‘ ë³€ê²½í•˜ì§€ ì•Šê³ , setX, getX ë©”ì„œë“œë¥¼ í†µí•´ ê°’ì„ ì½ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ê·œì¹™ì„ ë§Œë“¤ì—ˆë‹¤.

+) ìˆ˜ì •ì ì£¼ì… ì‹œ, finalì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. finalë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ë°˜ë“œì‹œ ì„ ì–¸ê³¼ í•¨ê»˜ ì´ˆê¸°í™” ë˜ì–´ì•¼ í•˜ë¯€ë¡œ setter ì£¼ì…ê³¼ ê°™ì´ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í•  ë•ŒëŠ” final ì„ ì–¸ì„ í•  ìˆ˜ ì—†ë‹¤.

```java
@Component
public class OrderServiceImpl implements OrderService {
    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

	@Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
}
```

#### í•„ë“œì£¼ì…

- í•„ë“œì—ì„œ ë°”ë¡œ ì£¼ì…í•˜ëŠ” ë°©ì‹ì´ë‹¤. í•„ë“œ ì£¼ì…ì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì½”ë“œê°€ ê°„ê²°í•´ ê³¼ê±°ì— ë§ì´ ì‚¬ìš©í–ˆì§€ë§Œ, ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë µë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.
- DI(ì˜ì¡´ì„± ì£¼ì…) í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤.
	- ì˜ì¡´ì„± ì£¼ì…ì´ë€ Product product = new Pencil(); Store store = new Store(product); ì²˜ëŸ¼ ë‘ ê°ì²´ ê°„ì— ê´€ê³„(ì˜ì¡´ì„±)ë¥¼ ë§ºì–´ì£¼ëŠ” ê²ƒì„ ë§í•œë‹¤.
- ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ì½”ë“œì™€ ê´€ê³„ì—†ëŠ” í…ŒìŠ¤íŠ¸ì½”ë“œ, ìŠ¤í”„ë§ ì„¤ì •ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” @Configuration ê°™ì€ ê³³ì—ì„œë§Œ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•œë‹¤.

#### ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…

ì¼ë°˜ ë©”ì„œë“œë¥¼ í†µí•´ì„œ í•œë²ˆì— ì—¬ëŸ¬ í•„ë“œë¥¼ ì£¼ì…ë°›ì„ ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
+) ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ê´€ë¦¬í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆì´ì–´ì•¼ ë™ì‘í•œë‹¤.

### â˜‘ï¸ ì˜µì…˜ ì²˜ë¦¬
ìŠ¤í”„ë§ ë¹ˆì€ ì£¼ì…í•˜ëŠ” ê²ƒì´ ìë™ ë¡œì§ìœ¼ë¡œ ë˜ì–´ìˆì§€ë§Œ, ì£¼ì…í•  ìŠ¤í”„ë§ ë¹ˆì´ ì—†ì–´ë„ ë™ì‘í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤.

- @AutowiredëŠ” required ì˜µì…˜ì˜ ê¸°ë³¸ê°’ì´ trueë¡œ ë˜ì–´ìˆì–´ ìë™ì£¼ì… ëŒ€ìƒì´ ì—†ë‹¤ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

ìë™ ì£¼ì… ì—¬ë¶€ëŠ” ë‹¤ìŒ ë°©ë²•ê³¼ ê°™ì´ ì˜µì…˜ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

- @Autowired(required=false): ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ìˆ˜ì •ì ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.
- org.springframework.lang.@Nullable: ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ nullì´ ì…ë ¥ëœë‹¤.
- Optional<>: ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ Optinal.emptyê°€ ì…ë ¥ëœë‹¤.


### â˜‘ï¸ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•˜ë¼!
- ë¶ˆë³€
ì˜ì¡´ê´€ê³„ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì „ê¹Œì§€ ë³€í•˜ë©´ ì•ˆëœë‹¤. ìƒì„±ì ì£¼ì…ì€ ê°ì²´ ìƒì„± ì‹œ, ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ê³  ì´í›„ì— í˜¸ì¶œë˜ì§€ ì•Šì•„ ë¶ˆë³€í•˜ê²Œ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤.
ìˆ˜ì •ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´, setXxx ë©”ì„œë“œë¥¼ publicìœ¼ë¡œ ì—´ì–´ë‘ê¸° ë•Œë¬¸ì— ë³€ê²½ë  ìˆ˜ ìˆë‹¤ëŠ” ìœ„í—˜ì„±ì´ ìˆë‹¤. ì‹¤ìˆ˜ë¡œ ë³€ê²½í•  ìˆ˜ ìˆê³ , ë³€ê²½í•˜ë©´ ì•ˆë˜ëŠ” ë©”ì„œë“œë¥¼ ì—´ì–´ë‘ëŠ” ê²ƒì€ ì¢‹ì€ ì„¤ê³„ ë°©ë²•ì´ ì•„ë‹ˆë‹¤.

- ëˆ„ë½
í”„ë ˆì„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìë°” ì½”ë“œë¥¼ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²½ìš°ì—, ì˜ì¡´ê´€ê³„ ëˆ„ë½ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

- final í‚¤ì›Œë“œ
ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ í•„ë“œì— final í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ìƒì„±ìì— í˜¹ì‹œë¼ë„ ê°’ì´ ì„¤ì •ë˜ì§€ ì•Šì„ ë•Œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì»´íŒŒì¼ ì‹œì ì—ì„œ ë§‰ì•„ì¤€ë‹¤.

- ìƒì„±ì ì£¼ì… ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ, í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦¬ëŠ” ë°©ë²•ì´ê¸°ë„ í•˜ë‹¤.
- ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤. ìƒì„±ì ì£¼ì…ê³¼ ìˆ˜ì •ì ì£¼ì…ì„ ìœ ì—°í•˜ê²Œ ë™ì‹œì— ì‚¬ìš©í•œë‹¤.
- ì¼ë‹¨ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•˜ê³ , ì˜µì…˜ì´ í•„ìš”í•˜ë©´ ìˆ˜ì •ì ì£¼ì…ì„ ì‚¬ìš©í•œë‹¤. í•„ë“œ ì£¼ì…ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

### â˜‘ï¸ ë¡¬ë³µê³¼ ìµœì‹  íŠ¸ë Œë“œ
- ë¡¬ë³µ ì„¤ì •

```java
@Component
@RequiredArgsConstructor
public class OrderServiceImpl implements OrderService {
	private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
}    
```

ì´ì²˜ëŸ¼ Lombokì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì½”ë“œëŠ” ë¡¬ë³µì´ ìë°”ì˜ ì• ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ì»´íŒŒì¼ ì‹œì ì— ìƒì„±ì ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤.

ì¥ì 
- ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì½”ë“œ ìë™ ìƒì„±ì„ í†µí•œ ìƒì‚°ì„± í–¥ìƒ
- ë°˜ë³µë˜ëŠ” ì½”ë“œ ë‹¤ì´ì–´íŠ¸ë¥¼ í†µí•´ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- Getter, Setter ì™¸ì— ë¹Œë” íŒ¨í„´ì´ë‚˜ ë¡œê·¸ ìƒì„± ë“± ë‹¤ì–‘í•œ ë°©ë©´ìœ¼ë¡œ í™œìš© ê°€ëŠ¥

ìµœê·¼ì—ëŠ” ìƒì„±ìë¥¼ ë”± 1ê°œ ë‘ê³ , @Autowiredë¥¼ ìƒëµí•˜ëŠ” ë°©ë²•ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. ë˜í•œ Lombokë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì€ ëª¨ë‘ ì œê³µë°›ê³ , ì½”ë“œëŠ” ê¹”ë”í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

### â˜‘ï¸ ì¡°íšŒ ë¹ˆì´ 2ê°œ ì´ìƒ - ë¬¸ì œ

- @AutowiredëŠ” íƒ€ì…ìœ¼ë¡œ ë¹ˆì„ ì¡°íšŒí•œë‹¤. ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒì—ì„œ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•˜ë©´ ì„ íƒëœ ë¹ˆì´ 2ê°œ ì´ìƒì¼ ë•Œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, DiscountPolicyì˜ í•˜ìœ„ íƒ€ì…ì¸ FixDiscountPolicyì™€ RateDiscountPolicy ë‘˜ë‹¤ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ì„ ì–¸í•œë‹¤. ë§Œì•½ ë‘ ì •ì±… ëª¨ë‘ @Component ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ @Beanì— ë“±ë¡ë˜ì—ˆë‹¤ë©´ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ì„ í•˜ì—¬ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

```java
@Component
public class FixDiscountPolicy implements DiscountPolicy {}
@Component
public class RateDiscountPolicy implements DiscountPolicy {}
```

ê·¸ë¦¬ê³  ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ì„ ì‹¤í–‰í•œë‹¤.

```java
@Autowired
private DiscountPolicy discountPollicy;
```

í™•ì¸í•´ë³´ë©´ NoUniqueBeanDefinitionException ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©°, ì–´ë–¤ ê³³ì—ì„œ ë°œìƒí•˜ì˜€ëŠ”ì§€ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì¤€ë‹¤.

ì´ë¥¼ í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ë„ ìˆì§€ë§Œ, í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•œë‹¤ë©´ DIPë¥¼ ìœ„ë°°í•˜ê³  ìœ ì—°ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì´ë¦„ë§Œ ë‹¤ë¥´ê³ , ë˜‘ê°™ì€ í•˜ìœ„ íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ ë‘ê°œ ìˆì–´ ë°œìƒí•˜ëŠ” ë¬¸ì œëŠ” ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ? ìŠ¤í”„ë§ ë¹ˆì„ ìˆ˜ë™ ë“±ë¡í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ë„ ìˆì§€ë§Œ, ì˜ì¡´ ê´€ê³„ ìë™ì£¼ì…ì—ëŠ” ì´ ì™¸ì—ë„ ì—¬ëŸ¬ í•´ê²° ë°©ë²•ë“¤ì´ ìˆë‹¤.
### â˜‘ï¸ @Autowired í•„ë“œëª…, @Qualifier, @Primary
#### @Autowired í•„ë“œëª…

@AutowiredëŠ” íƒ€ì… ë§¤ì¹­ì„ ì‹œë„í•˜ê³ , ì—¬ëŸ¬ ë¹ˆì´ ìˆìœ¼ë©´ í•„ë“œ ì´ë¦„ê³¼ íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ë¹ˆ ì´ë¦„ì„ ì¶”ê°€ ë§¤ì¹­í•œë‹¤.
ê¸°ì¡´ ì½”ë“œ
```java
@Autowired
private DiscountPolicy discountPolicy
```

í•„ë“œëª…ì„ ì´ë¦„ìœ¼ë¡œ ë³€ê²½
```java
@Autowired
private DiscountPolicy rateDiscountPolicy
```

í•„ë“œëª…ì´ rateDiscountPolicyì´ë¯€ë¡œ ì •ìƒì£¼ì…ëœë‹¤. í•„ë“œëª… ë§¤ì¹­ì€ íƒ€ì… ë§¤ì¹­ì„ ì‹œë„í•˜ê³ , ê²°ê³¼ì— ì—¬ëŸ¬ ë¹ˆì´ ìˆì„ ë•Œ ì¶”ê°€ ë™ì‘í•œë‹¤.

>
1. íƒ€ì… ë§¤ì¹­ì„ ì§„í–‰í•œë‹¤.
2. íƒ€ì… ë§¤ì¹­ì˜ ê²°ê³¼ê°€ ë‘ ê°œ ì´ìƒì¼ ë•Œ, í•„ë“œëª…ê³¼ íŒŒë¼ë¯¸í„°ëª…ìœ¼ë¡œ ë¹ˆ ì´ë¦„ì„ ë§¤ì¹­í•œë‹¤.


#### @Qualifier

ì¶”ê°€ êµ¬ë¶„ìë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ë²•ìœ¼ë¡œ, ì£¼ì… ì‹œ ì¶”ê°€ì ì¸ ë°©ë²•ì„ ì œê³µí•˜ëŠ” ê²ƒì´ì§€ ë¹ˆ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

ë¹ˆ ë“±ë¡ ì‹œ @Qualifierë¥¼ ë¶™ì—¬ ì¤€ë‹¤.

```java
@Component
@Qualifier("mainDiscountPolicy")
public class RateDiscountPolicy implements DiscountPolicy {}
@Component
@Qualifier("fixDiscountPolicy")
public class FixDiscountPolicy implements DiscountPolicy {}
```

ì£¼ì… ì‹œì— @Qualifierë¥¼ ë¶™ì—¬ì£¼ê³  ë“±ë¡í•œ ì´ë¦„ì„ ì ì–´ì¤€ë‹¤.
ìƒì„±ì ìë™ ì£¼ì… ì‹œ

```java
@Autowired
public OrderServiceImpl(MemberRepository memberRepository, @Qualifier("mainDiscountPolicy") DiscountPolicy discountPolicy)
{
	this.memberRepository = memberRepository;
    this.discountPolicy = discountPolicy;
}    
```

#### @Primary ì§ì ‘ ì‚¬ìš©

@Primary ìš°ì„ ê¶Œì„ ê°–ëŠ”ë‹¤. ì¼ë‹¨ @Primaryê°€ ë¶™ìœ¼ë©´ ìµœìƒìœ„ë¡œ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ëœë‹¤.

rateDiscountPolicyì— ìš°ì„ ê¶Œì„ ë¶€ì—¬í•˜ê³  ì‹¶ë‹¤ë©´,
```java
@Component
@Primary
public class RateDiscountPolicy implements DiscountPolicy {}

@Component
public class FixDiscountPolicy implements DiscountPolicy {}


// ìƒì„±ì
@Autowired
public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
	this.memberRepository = memberRepository;
    this.discountPolicy = discountPolicy;
}

// ìˆ˜ì •ì
@Autowired
public DiscountPolicy setDiscountPolicy(DiscountPolicy discountPolicy) {
	return discountPolicy;
}    
```

### â˜‘ï¸ ì• ë…¸í…Œì´ì…˜ ì§ì ‘ ë§Œë“¤ê¸°
ë¬¸ìëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ì˜¤íƒ€ ë“±ì„ ê°ì§€í•  ìˆ˜ ì—†ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ @Qualifier("mailDiscountPolicy") ì²˜ëŸ¼ ë¬¸ìë¥¼ ì ìœ¼ë©´ ì»´íŒŒì¼ì‹œ íƒ€ì… ì²´í¬ê°€ ì•ˆëœë‹¤. ë”°ë¼ì„œ ë‹¤ìŒì²˜ëŸ¼ ì• ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì–´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

```java
package hello.core.annotation;

import org.springframework.beans.factory.annotation.Qualifier;

import java.lang.annotation.*;

@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Qualifier("mainDiscountPolicy")
public @interface MainDiscountPolicy {
}
@Component
@MainDiscountPolicy 
public class RateDiscountPolicy implements DiscountPolicy {}
// ìƒì„±ì ìë™ ì£¼ì…
@Autowired
public OrderServiceImpl(MemberRepository memberRepository, @MainDiscountPolicy DiscountPolicy discountPolicy) {
	this.memberRepository = memberRepository;
    this.discountPolicy = discountPolicy;
}

// ìˆ˜ì •ì ìë™ ì£¼ì…
@Autowired
public DiscountPolicy setDiscountPolicy(@MainDiscountPolicy DiscountPolicy discountPolicy) {
	return discountPolicy;
}    
```

ì»´íŒŒì¼ íƒ€ì„ì—ì„œ ì˜¤íƒ€ ë“±ì„ ë°”ë¡œ ê°ì§€í•  ìˆ˜ ìˆë‹¤. ì• ë…¸í…Œì´ì…˜ì—ëŠ” ìƒì†ì´ë¼ëŠ” ê°œë…ì´ ì—†ìœ¼ë©°, ì—¬ëŸ¬ ì• ë…¸í…Œì´ì…˜ì„ ëª¨ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ìŠ¤í”„ë§ì´ ì§€ì›í•´ì¤€ë‹¤. @Qualifier ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì• ë…¸í…Œì´ì…˜ë“¤ë„ í•¨ê»˜ ì¡°í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### â˜‘ï¸ ì¡°íšŒí•œ ë¹ˆì´ ëª¨ë‘ í•„ìš”í•  ë•Œ, List, Map

ì˜ë„ì ìœ¼ë¡œ í•´ë‹¹ íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ í•„ìš”í•œ ê²½ìš°, ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ë©´ ì „ëµ íŒ¨í„´ì„ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ex. í´ë¼ì´ì–¸íŠ¸ê°€ í• ì¸ì˜ ì¢…ë¥˜(rate, fix)ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

```java
import hello.core.AutoAppConfig;
import hello.core.discount.DiscountPolicy;
import hello.core.member.Grade;
import hello.core.member.Member;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import java.util.List;
import java.util.Map;

import static org.assertj.core.api.Assertions.assertThat;

public class AllBeanTest {
    @Test
    void findAllBean() {
        ApplicationContext ac = new AnnotationConfigApplicationContext(AutoAppConfig.class, DiscountService.class);
        DiscountService discountService = ac.getBean(DiscountService.class);
        Member member = new Member(1L, "userA", Grade.VIP);
        int discountPrice = discountService.discount(member, 10000, "fixDiscountPolicy");
        assertThat(discountPrice).isInstanceOf(DiscountService.class);
        assertThat(discountPrice).isEqualTo(1000);
    }

    static class DiscountService {
        private final Map<String, DiscountPolicy> policyMap;
        private final List<DiscountPolicy> policies;

        public DiscountService(Map<String, DiscountPolicy> policyMap, List<DiscountPolicy> policies) {
            this.policyMap = policyMap;
            this.policies = policies;
            System.out.println("policyMap = " + policyMap);
            System.out.println("policies = " + policies);
        }

        public int discount(Member member, int price, String discountCode) {
            DiscountPolicy discountPolicy = policyMap.get(discountCode);
            return discountPolicy.discount(member, price);
        }
    }
}
```

#### ğŸ”»ë¡œì§ ë¶„ì„

DiscountServiceëŠ” Mapìœ¼ë¡œ ëª¨ë“  DiscountPolicyë¥¼ ì£¼ì…ë°›ëŠ”ë‹¤. ì´ë•Œ fixDiscountPolicy, rateDiscountPolicyê°€ ì£¼ì…ëœë‹¤.
discount() ë©”ì„œë“œëŠ” discountCodeë¡œ fixDiscountPolicyê°€ ë„˜ì–´ì˜¤ë©´ mapì—ì„œ fixDiscountPolicy ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ì•„ ì‹¤í–‰í•œë‹¤. rateDiscountPolicyê°€ ë„˜ì–´ì˜¤ë©´, rateDiscountPolicy ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ì•„ ì‹¤í–‰í•œë‹¤.

#### ğŸ”»ì£¼ì… ë¶„ì„

Map<String, DiscountPolicy>
mapì˜ í‚¤ê²Œ ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ì„ ë„£ì–´ì£¼ê³ , ê·¸ ê°’ìœ¼ë¡œ DiscountPolicy íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•œ ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆì„ ë‹´ì•„ì¤€ë‹¤.
```java
List<DiscountPolicy>
```
DiscountPolicy íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•œ ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆì„ ë‹´ì•„ì¤€ë‹¤.
í•´ë‹¹í•˜ëŠ” íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ ì—†ìœ¼ë©´, ë¹ˆ ì»¬ë ‰ì…˜ì´ë‚˜ Mapì„ ì£¼ì…í•œë‹¤.
  

### â˜‘ï¸ ìë™, ìˆ˜ë™ì˜ ì˜¬ë°”ë¥¸ ì‹¤ë¬´ ìš´ì˜ ê¸°ì¤€

í¸ë¦¬í•œ ìë™ ê¸°ëŠ¥ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
ì§ì ‘ ë“±ë¡í•˜ëŠ” ê¸°ìˆ  ì§€ì› ê°ì²´ëŠ” ìˆ˜ë™ ë“±ë¡í•œë‹¤.
ë‹¤í˜•ì„±ì„ ì ê·¹ í™œìš©í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜ë™ ë¡œì§ì„ ê³ ë ¤í•œë‹¤.
